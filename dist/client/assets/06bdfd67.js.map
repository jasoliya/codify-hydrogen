{"version":3,"file":"06bdfd67.js","sources":["../../../node_modules/@shopify/hydrogen/dist/esnext/components/ModelViewer/ModelViewer.client.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, } from 'react';\nimport { useLoadScript } from '../../hooks/useLoadScript/useLoadScript.client';\n/**\n * The `ModelViewer` component renders a 3D model (with the `model-viewer` tag) for\n * the Storefront API's [Model3d object](https://shopify.dev/api/storefront/reference/products/model3d).\n */\nexport function ModelViewer(props) {\n    const [modelViewer, setModelViewer] = useState(undefined);\n    const callbackRef = useCallback((node) => {\n        setModelViewer(node);\n    }, []);\n    const { data, id = data.id, children, className, ...passthroughProps } = props;\n    const modelViewerLoadedStatus = useLoadScript('https://unpkg.com/@google/model-viewer@v1.8.0/dist/model-viewer.min.js', {\n        module: true,\n    });\n    useEffect(() => {\n        if (modelViewer == null) {\n            return;\n        }\n        if (passthroughProps.onError)\n            modelViewer.addEventListener('error', passthroughProps.onError);\n        if (passthroughProps.onLoad)\n            modelViewer.addEventListener('load', passthroughProps.onLoad);\n        if (passthroughProps.onPreload)\n            modelViewer.addEventListener('preload', passthroughProps.onPreload);\n        if (passthroughProps.onModelVisibility)\n            modelViewer.addEventListener('model-visibility', passthroughProps.onModelVisibility);\n        if (passthroughProps.onProgress)\n            modelViewer.addEventListener('progress', passthroughProps.onProgress);\n        if (passthroughProps.onArStatus)\n            modelViewer.addEventListener('ar-status', passthroughProps.onArStatus);\n        if (passthroughProps.onArTracking)\n            modelViewer.addEventListener('ar-tracking', passthroughProps.onArTracking);\n        if (passthroughProps.onQuickLookButtonTapped)\n            modelViewer.addEventListener('quick-look-button-tapped', passthroughProps.onQuickLookButtonTapped);\n        if (passthroughProps.onCameraChange)\n            modelViewer.addEventListener('camera-change', passthroughProps.onCameraChange);\n        if (passthroughProps.onEnvironmentChange)\n            modelViewer.addEventListener('environment-change', passthroughProps.onEnvironmentChange);\n        if (passthroughProps.onPlay)\n            modelViewer.addEventListener('play', passthroughProps.onPlay);\n        if (passthroughProps.onPause)\n            modelViewer.addEventListener('ar-status', passthroughProps.onPause);\n        if (passthroughProps.onSceneGraphReady)\n            modelViewer.addEventListener('scene-graph-ready', passthroughProps.onSceneGraphReady);\n        return () => {\n            if (modelViewer == null) {\n                return;\n            }\n            if (passthroughProps.onError)\n                modelViewer.removeEventListener('error', passthroughProps.onError);\n            if (passthroughProps.onLoad)\n                modelViewer.removeEventListener('load', passthroughProps.onLoad);\n            if (passthroughProps.onPreload)\n                modelViewer.removeEventListener('preload', passthroughProps.onPreload);\n            if (passthroughProps.onModelVisibility)\n                modelViewer.removeEventListener('model-visibility', passthroughProps.onModelVisibility);\n            if (passthroughProps.onProgress)\n                modelViewer.removeEventListener('progress', passthroughProps.onProgress);\n            if (passthroughProps.onArStatus)\n                modelViewer.removeEventListener('ar-status', passthroughProps.onArStatus);\n            if (passthroughProps.onArTracking)\n                modelViewer.removeEventListener('ar-tracking', passthroughProps.onArTracking);\n            if (passthroughProps.onQuickLookButtonTapped)\n                modelViewer.removeEventListener('quick-look-button-tapped', passthroughProps.onQuickLookButtonTapped);\n            if (passthroughProps.onCameraChange)\n                modelViewer.removeEventListener('camera-change', passthroughProps.onCameraChange);\n            if (passthroughProps.onEnvironmentChange)\n                modelViewer.removeEventListener('environment-change', passthroughProps.onEnvironmentChange);\n            if (passthroughProps.onPlay)\n                modelViewer.removeEventListener('play', passthroughProps.onPlay);\n            if (passthroughProps.onPause)\n                modelViewer.removeEventListener('ar-status', passthroughProps.onPause);\n            if (passthroughProps.onSceneGraphReady)\n                modelViewer.removeEventListener('scene-graph-ready', passthroughProps.onSceneGraphReady);\n        };\n    }, [\n        modelViewer,\n        passthroughProps.onArStatus,\n        passthroughProps.onArTracking,\n        passthroughProps.onCameraChange,\n        passthroughProps.onEnvironmentChange,\n        passthroughProps.onError,\n        passthroughProps.onLoad,\n        passthroughProps.onModelVisibility,\n        passthroughProps.onPause,\n        passthroughProps.onPlay,\n        passthroughProps.onPreload,\n        passthroughProps.onProgress,\n        passthroughProps.onQuickLookButtonTapped,\n        passthroughProps.onSceneGraphReady,\n    ]);\n    if (modelViewerLoadedStatus !== 'done') {\n        // TODO: What do we want to display while the model-viewer library loads?\n        return null;\n    }\n    if (!data.sources?.[0]?.url) {\n        throw new Error(`<ModelViewer/> requires 'data.sources' prop to be an array, with an object that has a property 'url' on it`);\n    }\n    if (!data.alt) {\n        console.warn(`<ModelViewer/> requires the 'data.alt' prop for accessibility`);\n    }\n    return (React.createElement(\"model-viewer\", { ref: callbackRef, ...passthroughProps, class: className, id: id, src: data.sources[0].url, alt: data.alt, \"camera-controls\": passthroughProps.cameraControls ?? true, poster: passthroughProps.poster || data.previewImage?.url, autoplay: passthroughProps.autoplay ?? true, loading: passthroughProps.loading, reveal: passthroughProps.reveal, ar: passthroughProps.ar, \"ar-modes\": passthroughProps.arModes, \"ar-scale\": passthroughProps.arScale, \"ar-placement\": passthroughProps.arPlacement, \"ios-src\": passthroughProps.iosSrc, \"touch-action\": passthroughProps.touchAction, \"disable-zoom\": passthroughProps.disableZoom, \"orbit-sensitivity\": passthroughProps.orbitSensitivity, \"auto-rotate\": passthroughProps.autoRotate, \"auto-rotate-delay\": passthroughProps.autoRotateDelay, \"rotation-per-second\": passthroughProps.rotationPerSecond, \"interaction-policy\": passthroughProps.interactionPolicy, \"interaction-prompt\": passthroughProps.interactionPrompt, \"interaction-prompt-style\": passthroughProps.interactionPromptStyle, \"interaction-prompt-threshold\": passthroughProps.interactionPromptThreshold, \"camera-orbit\": passthroughProps.cameraOrbit, \"camera-target\": passthroughProps.cameraTarget, \"field-of-view\": passthroughProps.fieldOfView, \"max-camera-orbit\": passthroughProps.maxCameraOrbit, \"min-camera-orbit\": passthroughProps.minCameraOrbit, \"max-field-of-view\": passthroughProps.maxFieldOfView, \"min-field-of-view\": passthroughProps.minFieldOfView, bounds: passthroughProps.bounds, \"interpolation-decay\": passthroughProps.interpolationDecay ?? 100, \"skybox-image\": passthroughProps.skyboxImage, \"environment-image\": passthroughProps.environmentImage, exposure: passthroughProps.exposure, \"shadow-intensity\": passthroughProps.shadowIntensity ?? 0, \"shadow-softness\": passthroughProps.shadowSoftness ?? 0, \"animation-name\": passthroughProps.animationName, \"animation-crossfade-duration\": passthroughProps.animationCrossfadeDuration, \"variant-name\": passthroughProps.variantName, orientation: passthroughProps.orientation, scale: passthroughProps.scale }, children));\n}\n"],"names":["props","modelViewer","setModelViewer","useState","undefined","callbackRef","useCallback","node","data","id","children","className","passthroughProps","modelViewerLoadedStatus","useLoadScript","module","useEffect","onError","addEventListener","onLoad","onPreload","onModelVisibility","onProgress","onArStatus","onArTracking","onQuickLookButtonTapped","onCameraChange","onEnvironmentChange","onPlay","onPause","onSceneGraphReady","removeEventListener","sources","url","Error","alt","console","warn","_jsx","cameraControls","poster","previewImage","autoplay","loading","reveal","ar","arModes","arScale","arPlacement","iosSrc","touchAction","disableZoom","orbitSensitivity","autoRotate","autoRotateDelay","rotationPerSecond","interactionPolicy","interactionPrompt","interactionPromptStyle","interactionPromptThreshold","cameraOrbit","cameraTarget","fieldOfView","maxCameraOrbit","minCameraOrbit","maxFieldOfView","minFieldOfView","bounds","interpolationDecay","skyboxImage","environmentImage","exposure","shadowIntensity","shadowSoftness","animationName","animationCrossfadeDuration","variantName","orientation","scale"],"mappings":"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"}