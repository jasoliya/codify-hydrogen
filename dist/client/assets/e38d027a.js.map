{"version":3,"file":"e38d027a.js","sources":["../../../node_modules/@shopify/hydrogen/dist/esnext/utilities/parse.js","../../../node_modules/@shopify/hydrogen/dist/esnext/foundation/useUrl/useUrl.js"],"sourcesContent":["export function parseJSON(json) {\n    if (String(json).includes('__proto__'))\n        return JSON.parse(json, noproto);\n    return JSON.parse(json);\n}\nfunction noproto(k, v) {\n    if (k !== '__proto__')\n        return v;\n}\n","import { useContext, useMemo } from 'react';\nimport { RSC_PATHNAME } from '../../constants';\nimport { parseJSON } from '../../utilities/parse';\nimport { RouterContext } from '../Router/BrowserRouter.client';\nimport { useEnvContext, META_ENV_SSR } from '../ssr-interop';\n/**\n * The `useUrl` hook retrieves the current URL in a server or client component.\n */\nexport function useUrl() {\n    if (META_ENV_SSR) {\n        const serverUrl = new URL(useEnvContext((req) => req.url) // eslint-disable-line react-hooks/rules-of-hooks\n        );\n        if (serverUrl.pathname === RSC_PATHNAME) {\n            const state = parseJSON(serverUrl.searchParams.get('state') || '{}');\n            const parsedUrl = `${serverUrl.origin}${state.pathname ?? ''}${state.search ?? ''}`;\n            return new URL(parsedUrl);\n        }\n        return new URL(serverUrl);\n    }\n    /**\n     * We return a `URL` object instead of passing through `location` because\n     * the URL object contains important info like hostname, etc.\n     * Note: do not call `useLocation` directly here to avoid throwing errors\n     * when `useUrl` is used outside of a Router component (e.g. in <Seo>).\n     */\n    const location = useContext(RouterContext); // eslint-disable-line react-hooks/rules-of-hooks\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    return useMemo(() => new URL(window.location.href), [location]); // eslint-disable-line react-hooks/exhaustive-deps\n}\n"],"names":["useContext","useMemo"],"mappings":"0HAAO,WAAmB,EAAM,CAC5B,MAAI,QAAO,CAAI,EAAE,SAAS,WAAW,EAC1B,KAAK,MAAM,EAAM,CAAO,EAC5B,KAAK,MAAM,CAAI,CAC1B,CACA,WAAiB,EAAG,EAAG,CACnB,GAAI,IAAM,YACN,MAAO,EACf,CCAO,YAAkB,SACrB,GAAI,EAAc,CACd,KAAM,GAAY,GAAI,KAAI,EAA8B,CAChE,EACQ,GAAI,EAAU,WAAa,EAAc,CACrC,KAAM,GAAQ,EAAU,EAAU,aAAa,IAAI,OAAO,GAAK,IAAI,EAC7D,EAAY,GAAG,EAAU,SAAS,KAAM,WAAN,OAAkB,KAAK,KAAM,SAAN,OAAgB,KAC/E,MAAO,IAAI,KAAI,CAAS,CAC3B,CACD,MAAO,IAAI,KAAI,CAAS,CAC3B,CAOD,KAAM,GAAWA,qBAAW,CAAa,EAEzC,MAAOC,GAAO,QAAA,QAAC,IAAM,GAAI,KAAI,OAAO,SAAS,IAAI,EAAG,CAAC,CAAQ,CAAC,CAClE"}